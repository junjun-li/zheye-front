/** layui-v2.2.3 MIT License By http://www.layui.com */
;layui.define("jquery", function (e) { "use strict"; var l = layui.$; var o = function (e) {}; var t = '<i class="layui-anim layui-anim-rotate layui-anim-loop layui-icon ">&#xe63e;</i>'; o.prototype.load = function (e) { var o; var i; var n; var r; var a = this; var c = 0; e = e || {}; var f = l(e.elem); if (f[0]) { var m = l(e.scrollElem || document); var u = e.mb || 50; var s = !("isAuto" in e) || e.isAuto; var v = e.end || "没有更多了"; var y = e.scrollElem && e.scrollElem !== document; var d = "<cite>加载更多</cite>"; var h = l('<div class="layui-flow-more"><a href="javascript:;">' + d + "</a></div>"); f.find(".layui-flow-more")[0] || f.append(h); var p = function (e, t) { e = l(e), h.before(e), t = t == 0 || null, t ? h.html(v) : h.find("a").html(d), i = t, o = null, n && n() }; var g = function () { o = !0, h.find("a").html(t), typeof e.done === "function" && e.done(++c, p) }; if (g(), h.find("a").on("click", function () { l(this); i || o || g() }), e.isLazyimg) var n = a.lazyimg({ elem: e.elem + " img", scrollElem: e.scrollElem }); return s ? (m.on("scroll", function () { var e = l(this); var t = e.scrollTop(); r && clearTimeout(r), i || (r = setTimeout(function () { var i = y ? e.height() : l(window).height(); var n = y ? e.prop("scrollHeight") : document.documentElement.scrollHeight; n - t - i <= u && (o || g()) }, 100)) }), a) : a } }, o.prototype.lazyimg = function (e) { var o; var t = this; var i = 0; e = e || {}; var n = l(e.scrollElem || document); var r = e.elem || "img"; var a = e.scrollElem && e.scrollElem !== document; var c = function (e, l) { var o = n.scrollTop(); var r = o + l; var c = a ? (function () { return e.offset().top - n.offset().top + o }()) : e.offset().top; if (c >= o && c <= r && !e.attr("src")) { var m = e.attr("lay-src"); layui.img(m, function () { var l = t.lazyimg.elem.eq(i); e.attr("src", m).removeAttr("lay-src"), l[0] && f(l), i++ }) } }; var f = function (e, o) { var f = a ? (o || n).height() : l(window).height(); var m = n.scrollTop(); var u = m + f; if (t.lazyimg.elem = l(r), e)c(e, f); else for (var s = 0; s < t.lazyimg.elem.length; s++) { var v = t.lazyimg.elem.eq(s); var y = a ? (function () { return v.offset().top - n.offset().top + m }()) : v.offset().top; if (c(v, f), i = s, y > u) break } }; if (f(), !o) { var m; n.on("scroll", function () { var e = l(this); m && clearTimeout(m), m = setTimeout(function () { f(null, e) }, 50) }), o = !0 } return f }, e("flow", new o()) })
